"use strict";var c=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var f=(a,e)=>{for(var s in e)c(a,s,{get:e[s],enumerable:!0})},u=(a,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of m(e))!y.call(a,t)&&t!==s&&c(a,t,{get:()=>e[t],enumerable:!(r=l(e,t))||r.enumerable});return a};var g=a=>u(c({},"__esModule",{value:!0}),a);var w={};f(w,{default:()=>j});module.exports=g(w);var j={id:"bree",handler:a=>{a.get("/jobs",async(e,s)=>{let t=await e.app.get("bree").listJobs();s.send(t)}),a.get("/jobs/:jobName",async(e,s,r)=>{let t=e.params.jobName,i=e.app.get("bree");try{let o=await i.getJobByName(t);s.json(o)}catch(o){r(o)}}),a.put("/jobs/:jobName",async(e,s,r)=>{let t=e.app.get("bree"),i=e.params.jobName,o=e.body.cron,b=e.body.action;try{if(await t.checkJobName(i),!["enable","disable","start","stop","restart","run"].includes(b))throw new Error("Invalid action! Valid actions are: enable, disable, start, stop, restart");let p=await{enable:async n=>await t.enable(n,o),disable:async n=>await t.disable(n),start:async n=>await t.start(n),stop:async n=>await t.stop(n),restart:async n=>await t.restart(n),run:async n=>await t.run(n)}[b](i);s.json(p)}catch(d){r(d)}})}};0&&(module.exports={});
